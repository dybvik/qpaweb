<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Quivertest</title>
    <script src="lib/fabric.js/all.min.js"></script>
    <script src="lib/jquery-1.9.1.js"></script>
    <script src="lib/underscore.js"></script>
    <script src="namegenerator.js"></script>
    <script src="relations.js"></script>
    <script src="relationpanel.js"></script>
    <script src="quiver.js"></script>
    <script src="quiverpanel.js"></script>
    <script src="createquivermode.js"></script>
    <script src="createmodeclassic.js"></script>
    <script src="https://raw.github.com/douglascrockford/JSON-js/master/json2.js"></script>
    <script src="https://raw.github.com/douglascrockford/JSON-js/master/cycle.js"></script>

    <link rel="stylesheet" href="css/thakulf.css">
</head>
<body>

    <canvas id="qcanvas">


    </canvas>
    <div id="sidepanel">Placeholder for sidepanel<br />
        <!-- dette bør vel være dynamisk AFAIK -->
        <input type="button" class="commandbutton" id="btncreatemode" value="Add Quivers"/>
        <input type="button" class="commandbutton" id="btncreatemodeclassic" value="Add Quivers Classic"/>
    <input type="button" class="commandbutton" id="btnadd" value="+"/>
    <input type="button" class="commandbutton" id="btnsubstract" value="-"/>
    <input type="button" class="commandbutton" id="btnjson" value="Show JSON"/></div>
    </div>
    <div id="commandpanel">Placeholder for kommandopanel<br >
        <textarea  id="relation" width="100%" height="100%"></textarea>
    <br />

    
    </div>
<script type="text/javascript">
    (function() {
        var canvas = document.getElementById('qcanvas'),
                context = canvas.getContext('2d');

        // resize the canvas to fill browser window dynamically
        window.addEventListener('resize', resizeCanvas, false);

        function resizeCanvas() {
            //alert("wiw: " + window.innerWidth + ", W: " + (window.innerWidth-sidepanel.offsetWidth) +
            //      "wih: " + window.innerHeight + ", H: " + (window.innerHeight-commandpanel.offsetHeight));
            if (qpanel!=null) {
                qpanel.getCanvas().setHeight(window.innerHeight-commandpanel.style.height);
                qpanel.getCanvas().setWidth(window.innerWidth-sidepanel.style.width);
            } else {
                canvas.height = window.innerHeight-sidepanel.style.height;
                canvas.width = window.innerWidth-commandpanel.style.width;
            }

            /**
             * Your drawings need to be inside this function otherwise they will be reset when
             * you resize the browser window and the canvas goes will be cleared.
             */
            drawStuff();
        }
        resizeCanvas();

        function drawStuff() {
            // do your drawing stuff here
        }
        
    })();

</script>
</body>
</html>
