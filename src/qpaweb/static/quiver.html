<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Quivertest</title>
    <script src="lib/fabric.js/all.min.js"></script>
    <script src="lib/jquery-1.9.1.js"></script>
    <script src="lib/underscore.js"></script>
    <script src="namegenerator.js"></script>
    <script src="relations.js"></script>
    <script src="relationpanel.js"></script>
    <script src="quiver.js"></script>
    <script src="quiverpanel.js"></script>
    <script src="createquivermode.js"></script>
    <script src="createmodeclassic.js"></script>
    <meta name="apple-mobile-web-app-capable" content="yes"/>

    <link rel="stylesheet" href="css/thakulf.css">
</head>
<body>
<!--
<div id="menuheader" style="width: 1000px;">
    <ul id="nav">
        <li><a href="#">File</a>
            <ul>
                <li><a href="#">Open</a></li>
                <li><a href="#">Save</a></li>
                <li><a href="#">Close</a></li>
            </ul>
        </li>
        <li><a href="#">Edit</a>
            <ul>
                <li><a href="#">Close</a></li>
            </ul>
        </li>
        <li><a href="#">About</a></li>
    </ul>
</div>
     -->
<canvas id="qcanvas">


</canvas>
<div id="sidepanel">
    <fieldset id="fieldfile">
        <!-- felt med iconExpand skal default være lukket, felt med iconCollapse skal default være åpne -->
    <legend><button id="btnFileMenu"><i class="iconExpand"></i>File</button></legend>

        <button id="btnFileNew"><i class="iconNew"></i>New</button>
        <button id="btnFileOpen"><i class="iconOpen"></i>Open</button>
        <button id="btnFileSave"><i class="iconSave"></i>Save</button>
        <button id="btnFileClose"><i class="iconClose"></i>Close</button>
        <button id="btnFileSettings"><i class="iconSettings"></i>Settings</button>
        <button id="btnFileAbout"><i class="iconAbout"></i>About</button><!--
        <ul id="listfile">
            <li class='itemopen'>Open</li>
            <li class='itemopen'>Save</li>
            <li class='itemopen'>Close</li>
            <li class='itemopen'>Settings</li>
            <li class='itemopen'>About</li>
        </ul> -->
    </fieldset>
    <fieldset id="fieldworkspace">
    <legend><button id="btnFileMenu"><i class="iconCollapse"></i>Workspace</button></legend>
    <ul id="listworkspace">
        <li class="itemquiver">Quiver 1</li>
        <li class="itemrepresentation">Representation 1</li>
        <li class="itemrepresentation">New representation</li>
    </ul>
    </fieldset>
    <fieldset id="fieldtools">
        <legend><button id="btnToolsMenu"><i class="iconCollapse"></i>Tools</button></legend>

    <!-- <select name="workspace">
        <option>Main Quiver</option>
        <option>Representation 1</option>
        <option>Representation 2</option>
    </select> -->
    <!-- dette bør vel være dynamisk AFAIK -->
    <!-- <input type="button" class="commandbutton" id="btncreatemode" value="Add Quivers"/>
     <input type="button" class="commandbutton" id="btncreatemodeclassic" value="Add Quivers Classic"/>
 <input type="button" class="commandbutton" id="btnadd" value="+"/>
 <input type="button" class="commandbutton" id="btnsubstract" value="-"/> -->
    <!-- Hovedmeny:
    - Ny representasjon
    - Eraser (viskelær)
    - Add relations

         Representasjonsmeny:
    - Vektorrom
    - Matrise
                            -->
    <button id="btnToolsEraser"><i class="iconEraser"></i>Erase</button>
    <input type="button" class="commandbuttonx" id="btnaddrel" value="Edit mode" />
    <input type="button" class="commandbuttonx" id="btnjson" value="Show JSON" />
    <!-- <button type="submit" class="btn btn-primary">
        <i class="icon-user icon-white"></i> Sign in

    </button> -->
    </fieldset>
    <fieldset id="fieldrelations"><legend><button id="trallala"><i class="iconCollapse"></i>Relation</button></legend>
    <input type="text" name="relation" id="relation" />
    <input type="button" class="commandbuttoxn" id="btnrels" value="Add relation" />
    </fieldset>

        <fieldset id="fieldvariables">
            <legend><button id="btnVariables"><i class="iconExpand"></i>Variables</button></legend>
            <ul>
                <li>a = b</li>
                <li>a = b</li>
                <li>a = b</li>
                <li>a = b</li>
            </ul>
        </fieldset>

    <fieldset id="fieldcommands">
        <legend><button id="btnCommands"><i class="iconCollapse"></i>Commands</button></legend>
        <button id="btnCommandFindDim">Find dimension</button>
        <button id="btnCommandFind">Find dimension</button>
    </fieldset>
    <br clear="all" />
    <fieldset id="fielddebug">
        <legend><button id="btnDebug">Debugging (vekk)</button></legend>
        <form method="POST" action="http://www.stud.aitel.hist.no/~jsjakobs/gappost.php">
            <!-- debugging av JSON, jobID default 1 -->
            <textarea name="debug" id="debug">Debug</textarea>
            <input type='hidden' name='jobID' value='1'/>

            <input type="submit" value="Send JSON"/>
            <!-- / debugging av JSON -->
        </form>
    </fieldset>

</div>
</div>
<!-- <div id="commandpanel">Placeholder for kommandopanel<br>


    <!-- <form method="POST" action="http://localhost:8888/">

    <br/>


</div> -->
<script type="text/javascript">
    (function () {
        var canvas = document.getElementById('qcanvas'),
                context = canvas.getContext('2d');

        // resize the canvas to fill browser window dynamically
        window.addEventListener('resize', resizeCanvas, false);

        function resizeCanvas() {
            //alert("wiw: " + window.innerWidth + ", W: " + (window.innerWidth-sidepanel.offsetWidth) +
            //      "wih: " + window.innerHeight + ", H: " + (window.innerHeight-commandpanel.offsetHeight));
            // Hard-coded canvas offset, TODO
            if (qpanel != null) {
                qpanel.getCanvas().setHeight((window.innerHeight));
                qpanel.getCanvas().setWidth((window.innerWidth - 205));
            } else {
                canvas.height = window.innerHeight;
                canvas.width = window.innerWidth - (205);
            }

            /**
             * Your drawings need to be inside this function otherwise they will be reset when
             * you resize the browser window and the canvas goes will be cleared.
             */
            drawStuff();
        }

        resizeCanvas();

        function drawStuff() {
            // do your drawing stuff here
        }

    })();

</script>
</body>
</html>
